<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="TianShangXing ">
<meta name="description" content="文件操作 打开文化 在python，使用open函数，可以打开一个已经存在的文件，或者创建一个新文件
open(文件名，访问模式)
示例如下：
f = open(&amp;#39;test.txt&amp;#39;, &amp;#39;w&amp;#39;) 关闭文件 close( )
示例如下：
# 新建一个文件，文件名为:test.txt f = open(&amp;#39;test.txt&amp;#39;, &amp;#39;w&amp;#39;) # 关闭这个文件 f.close() 读文件 以只读模式’r’打开文件,文件不存在，报错。 read:读全部内容，得到字符串 readline:一次读一行内容，得到字符串 readlines：读全部内容，得到包含每行内容的列表
示例如下：
f = open(&amp;#34;txt.py&amp;#34;, &amp;#34;r&amp;#34;) # 以只读模式，打开文件 # 文件读 # s = f.read() # 字符串 # s = f.readline() # 字符串 s = f.readlines() # 列表 print(s) f.close() # 关闭文件 写文件 以只写&amp;quot;w&amp;quot;模式打开文件，文件不存在，创建新文件，文件存在，清空原有内容 以追加&amp;quot;a&amp;quot;模式打开文件，文件不存在，创建新文件，文件存在，在原有内容末尾添加新内容 write:将字符串写入文件内容，想换行，手动写入&amp;quot;\n&amp;quot;
示例如下：
f = open(&amp;#34;txt2.py&amp;#34;, &amp;#34;w&amp;#34;) f.write(&amp;#34;hello world&amp;#34;) # 写完，不换行 f." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="#252627" />
<link rel="canonical" href="https://tianshangxing.github.io/blog/blogs/python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E5%92%8C%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7/" />


    <title>
        
            Python文件操作和异常捕获 :: TianShangXing&#39;s Blog  — 欢迎来到天上星的博客
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://tianshangxing.github.io/blog/main.min.01710bb66eae7f22dfce673f5d03773a71e52d8e273581b97701e62d8db59cb3.css">




    <link rel="apple-touch-icon" sizes="180x180" href="https://tianshangxing.github.io/blog/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://tianshangxing.github.io/blog/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://tianshangxing.github.io/blog/favicon-16x16.png">
    <link rel="manifest" href="https://tianshangxing.github.io/blog/site.webmanifest">
    <link rel="mask-icon" href="https://tianshangxing.github.io/blog/safari-pinned-tab.svg" color="#252627">
    <link rel="shortcut icon" href="https://tianshangxing.github.io/blog/favicon.ico">
    <meta name="msapplication-TileColor" content="#252627">
    <meta name="theme-color" content="#252627">



<meta itemprop="name" content="Python文件操作和异常捕获">
<meta itemprop="description" content="文件操作 打开文化 在python，使用open函数，可以打开一个已经存在的文件，或者创建一个新文件
open(文件名，访问模式)
示例如下：
f = open(&#39;test.txt&#39;, &#39;w&#39;) 关闭文件 close( )
示例如下：
# 新建一个文件，文件名为:test.txt f = open(&#39;test.txt&#39;, &#39;w&#39;) # 关闭这个文件 f.close() 读文件 以只读模式’r’打开文件,文件不存在，报错。 read:读全部内容，得到字符串 readline:一次读一行内容，得到字符串 readlines：读全部内容，得到包含每行内容的列表
示例如下：
f = open(&#34;txt.py&#34;, &#34;r&#34;) # 以只读模式，打开文件 # 文件读 # s = f.read() # 字符串 # s = f.readline() # 字符串 s = f.readlines() # 列表 print(s) f.close() # 关闭文件 写文件 以只写&quot;w&quot;模式打开文件，文件不存在，创建新文件，文件存在，清空原有内容 以追加&quot;a&quot;模式打开文件，文件不存在，创建新文件，文件存在，在原有内容末尾添加新内容 write:将字符串写入文件内容，想换行，手动写入&quot;\n&quot;
示例如下：
f = open(&#34;txt2.py&#34;, &#34;w&#34;) f.write(&#34;hello world&#34;) # 写完，不换行 f."><meta itemprop="datePublished" content="2020-06-21T23:26:46+08:00" />
<meta itemprop="dateModified" content="2020-06-21T23:26:46+08:00" />
<meta itemprop="wordCount" content="180"><meta itemprop="image" content="https://tianshangxing.github.io/blog/"/>
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://tianshangxing.github.io/blog/"/>

<meta name="twitter:title" content="Python文件操作和异常捕获"/>
<meta name="twitter:description" content="文件操作 打开文化 在python，使用open函数，可以打开一个已经存在的文件，或者创建一个新文件
open(文件名，访问模式)
示例如下：
f = open(&#39;test.txt&#39;, &#39;w&#39;) 关闭文件 close( )
示例如下：
# 新建一个文件，文件名为:test.txt f = open(&#39;test.txt&#39;, &#39;w&#39;) # 关闭这个文件 f.close() 读文件 以只读模式’r’打开文件,文件不存在，报错。 read:读全部内容，得到字符串 readline:一次读一行内容，得到字符串 readlines：读全部内容，得到包含每行内容的列表
示例如下：
f = open(&#34;txt.py&#34;, &#34;r&#34;) # 以只读模式，打开文件 # 文件读 # s = f.read() # 字符串 # s = f.readline() # 字符串 s = f.readlines() # 列表 print(s) f.close() # 关闭文件 写文件 以只写&quot;w&quot;模式打开文件，文件不存在，创建新文件，文件存在，清空原有内容 以追加&quot;a&quot;模式打开文件，文件不存在，创建新文件，文件存在，在原有内容末尾添加新内容 write:将字符串写入文件内容，想换行，手动写入&quot;\n&quot;
示例如下：
f = open(&#34;txt2.py&#34;, &#34;w&#34;) f.write(&#34;hello world&#34;) # 写完，不换行 f."/>







    <meta property="article:published_time" content="2020-06-21 23:26:46 &#43;0800 CST" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://tianshangxing.github.io/blog/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">TianShangXing&#39;s Blog</span>
            <span class="logo__cursor" style=
                  "visibility:hidden;
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://tianshangxing.github.io/blog/blogs/">Blogs</a></li><li><a href="https://tianshangxing.github.io/blog/resume/">Resume</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://tianshangxing.github.io/blog/blogs/python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E5%92%8C%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7/">Python文件操作和异常捕获</a></h2>

            

            <div class="post-content">
                <h3 id="文件操作">文件操作</h3>
<h4 id="打开文化">打开文化</h4>
<p>在python，使用open函数，可以打开一个已经存在的文件，或者创建一个新文件</p>
<p>open(文件名，访问模式)</p>
<p>示例如下：</p>
<pre tabindex="0"><code>f = open(&#39;test.txt&#39;, &#39;w&#39;)
</code></pre><h4 id="关闭文件">关闭文件</h4>
<p>close( )</p>
<p>示例如下：</p>
<pre tabindex="0"><code># 新建一个文件，文件名为:test.txt
f = open(&#39;test.txt&#39;, &#39;w&#39;)

# 关闭这个文件
f.close()
</code></pre><h4 id="读文件">读文件</h4>
<p>以只读模式’r’打开文件,文件不存在，报错。
read:读全部内容，得到字符串
readline:一次读一行内容，得到字符串
readlines：读全部内容，得到包含每行内容的列表</p>
<p>示例如下：</p>
<pre tabindex="0"><code>f = open(&#34;txt.py&#34;, &#34;r&#34;) # 以只读模式，打开文件
# 文件读
# s = f.read()  # 字符串
# s = f.readline()  # 字符串
s = f.readlines()  # 列表
print(s)
f.close() # 关闭文件
</code></pre><h4 id="写文件">写文件</h4>
<p>以只写&quot;w&quot;模式打开文件，文件不存在，创建新文件，文件存在，清空原有内容
以追加&quot;a&quot;模式打开文件，文件不存在，创建新文件，文件存在，在原有内容末尾添加新内容
write:将字符串写入文件内容，想换行，手动写入&quot;\n&quot;</p>
<p>示例如下：</p>
<pre tabindex="0"><code>f = open(&#34;txt2.py&#34;, &#34;w&#34;)
f.write(&#34;hello world&#34;)  # 写完，不换行
f.write(&#34;hello world\n&#34;)  # 写完，换行

f.close()
</code></pre><h4 id="拷贝文件">拷贝文件</h4>
<p>示例如下：</p>
<pre tabindex="0"><code># 1. 先读取txt.py中所有内容
f = open(&#34;txt.py&#34;, &#34;r&#34;)
s = f.read() #s中就是txt.py所有内容
f.close()# 2. 将读取的内容写入2.txt

f = open(&#34;2.txt&#34;, &#34;w&#34;)
f.write(s) # 将s中的内容写入2.txt中
f.close()
</code></pre><h4 id="file对象的属性">File对象的属性</h4>
<p>一个文件被打开后，使用对象进行接收，接收的对象即为 File 对象。</p>
<p>示例如下：</p>
<pre tabindex="0"><code>f = open(&#34;txt1.py&#34;,&#34;r&#34;)
#查看文件名
print(&#34;文件名&#34;,f.name) 
#查看是否已经关闭 是:True 否:False
print(&#34;是否已关闭&#34;,f.closed)
#查看访问模式
print(&#34;访问模式:&#34;,f.mode)
#关闭一下，查看是否已经关闭
f.close()
print(f.closed)
</code></pre><h4 id="文件相关操作">文件相关操作</h4>
<p>示例如下：</p>
<pre tabindex="0"><code>import os  # 导包
# 将文件重命名
# os.rename(&#34;1.txt.py&#34;, &#34;txt3.py&#34;)

# 删除文件
# os.remove(&#34;txt1.py&#34;)

# 新建文件夹
# os.mkdir(&#34;5.txt&#34;)

#删除文件夹
# os.rmkdir(&#34;5.txt&#34;)

# 获取当前文件所在的路径
# r = os.getcwd()
# print(r)
</code></pre><hr>
<h3 id="异常捕获">异常捕获</h3>
<p>Python内置了一套try..except&hellip;finally(else) &hellip; 的异常处理机制，来帮助我们处理异常</p>
<p>语法：</p>
<pre tabindex="0"><code>Try:
代码块
except Exception as e:
代码块
</code></pre><h4 id="异常的常见用法">异常的常见用法</h4>
<ol>
<li>
<p>try&hellip;except..  捕获单个异常</p>
<ul>
<li>可能产生的错误放在try 中</li>
<li>产生错误后要做的处理放在except中</li>
</ul>
</li>
<li>
<p>捕获多个异常
多个异常之间用逗号隔开</p>
</li>
<li>
<p>获取异常的信息描述
使用关键字 as</p>
</li>
<li>
<p>捕获所有异常
except exception as e</p>
</li>
<li>
<p>Else
如果没有捕获到异常，则运行else从句中的代码</p>
</li>
<li>
<p>try..finally
在程序中，如果一段代码是否产生异常都必须要执行，那么这时就需要使用finally。比如关闭文件，释放锁，关闭数据，关闭数据库连接等</p>
</li>
</ol>

            </div>
        </article>

        <hr />

        <div class="post-info">
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2022</span>
            
                <span><a href="https://tianshangxing.github.io/blog/">TianShangXing</a></span>
            
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            <span> <a href="https://tianshangxing.github.io/blog/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
        </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="https://tianshangxing.github.io/blog/bundle.min.b0238bd2801fa378c699d935667ed736af1b89c399fdd4f9befb92e184e6752f370edbef7a39f23bea2a845369efc74a75d0a36d179f03f05df5cb2929b7b787.js" integrity="sha512-sCOL0oAfo3jGmdk1Zn7XNq8bicOZ/dT5vvuS4YTmdS83DtvvejnyO&#43;oqhFNp78dKddCjbRefA/Bd9cspKbe3hw=="></script>



    </body>
</html>
